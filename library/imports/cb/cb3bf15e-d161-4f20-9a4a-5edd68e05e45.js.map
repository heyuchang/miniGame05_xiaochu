{"version":3,"sources":["assets\\Script\\Moudle\\View\\HomeView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import LayerPanel, {UrlInfo} from \"../../Common/manage/Layer/LayerPanel\";\r\nimport GameInfoView from \"./GameInfoView\";\r\nimport GameView from \"./GameView\";\r\nimport Shop from \"./logic/game/shop\";\r\nimport Sign from \"./logic/game/sign\";\r\n\r\nimport PanelMgr, {Layer} from \"../../Common/manage/PanelMgr\";\r\nimport ShowConfig from \"../../Common/ShowConfig\";\r\nimport QgBanner from \"../../Common/manage/Api/QgBanner\";\r\nimport Global from \"../../Common/Global\";\r\nimport Emit from \"../../Common/manage/Emit/Emit\";\r\nimport EmitData from \"../../Common/manage/Emit/EmitData\";\r\nimport QgApi from \"../../Common/manage/Api/QgApi\";\r\n\r\nconst {ccclass} = cc._decorator;\r\n@ccclass\r\nexport default class HomeView extends LayerPanel {\r\n    public static getUrl(): UrlInfo {\r\n        return {\r\n            bundle: \"homeView\",\r\n            name: \"homeView\"\r\n        }\r\n    }\r\n    private _exportData: any = null;\r\n\r\n    //node\r\n    private _button: cc.Node = null;\r\n    private _setting: cc.Node = null;\r\n    private _shopBtn: cc.Node = null ;\r\n    private _shortBtn : cc.Node = null ;\r\n    public initUI() {\r\n        //todo 逻辑\r\n        PanelMgr.INS.openPanel({\r\n            panel: GameInfoView,\r\n            layer: Layer.gameInfoLayer,\r\n        })\r\n\r\n        this._button = this.getNode(\"next\");\r\n        this.onTouch(this._button, () => {\r\n            PanelMgr.INS.openPanel({\r\n                panel : GameView,\r\n                layer : Layer.gameLayer,\r\n                call : ()=>{\r\n                    PanelMgr.INS.closePanel(HomeView) ;\r\n                    PanelMgr.INS.closePanel(Shop) ;\r\n                    PanelMgr.INS.closePanel(Sign) ;\r\n                }\r\n            })\r\n        });\r\n\r\n        this._setting = this.getNode(\"setting\")\r\n\r\n        this._shopBtn = this.getNode(\"bottomUI/shopIcon\")\r\n        this.onTouch(this._shopBtn, () => {\r\n            PanelMgr.INS.openPanel({\r\n                panel : Shop,\r\n                layer : Layer.gameLayer\r\n            })\r\n        })\r\n\r\n        this._shortBtn = this.getNode('shortBtn') ;\r\n\r\n        QgApi.judgeShortIcon().then((res : boolean)=>{\r\n            this._shortBtn.active = res;\r\n        })\r\n\r\n        this.onTouch(this._shortBtn, () => {\r\n            QgApi.addShortcutIcon().then((res)=>{\r\n                if (res) {\r\n                    this._shortBtn.active = false ;\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    public show(param: any) {\r\n        ShowConfig.show('homeConfig').then((res) => {\r\n            if (Global.config.homeConfig.bannerShow == 1) {\r\n                QgBanner.showBanner();\r\n            } else {\r\n                QgBanner.hideBanner();\r\n            }\r\n        });\r\n    }\r\n\r\n    public hide() {\r\n\r\n        if (Global.config.homeConfig.nativeConfig.type == 2) {\r\n            Emit.instance().emit(EmitData.CLOSE_NATIVE) ;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    //todo logic 方法\r\n}\r\n"]}